"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[6838],{7602:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"graphql/queries/index","title":"GraphQL Queries","description":"Hugr automatically generates a comprehensive GraphQL API from your schema definitions, providing powerful query capabilities for data access and manipulation. This section covers all aspects of querying data through the generated GraphQL API.","source":"@site/docs/5-graphql/1-queries/index.md","sourceDirName":"5-graphql/1-queries","slug":"/graphql/queries/","permalink":"/docs/graphql/queries/","draft":false,"unlisted":false,"editUrl":"https://github.com/hugr-lab/hugr-lab.github.io/docs/5-graphql/1-queries/index.md","tags":[],"version":"current","lastUpdatedBy":"Claude","lastUpdatedAt":1762461702000,"sidebarPosition":1,"frontMatter":{"title":"GraphQL Queries","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"GraphQL API","permalink":"/docs/docs/5-graphql"},"next":{"title":"Function Calls","permalink":"/docs/graphql/queries/function-calls"}}');var s=i(4848),t=i(8453);const a={title:"GraphQL Queries",sidebar_position:1},l="GraphQL Queries",d={},c=[{value:"What Gets Generated",id:"what-gets-generated",level:2},{value:"Query Organization",id:"query-organization",level:2},{value:"Core Query Capabilities",id:"core-query-capabilities",level:2},{value:"1. Function Calls",id:"1-function-calls",level:3},{value:"2. Basic Queries",id:"2-basic-queries",level:3},{value:"3. Filtering",id:"3-filtering",level:3},{value:"4. Sorting &amp; Pagination",id:"4-sorting--pagination",level:3},{value:"5. Relations",id:"5-relations",level:3},{value:"6. Function Fields",id:"6-function-fields",level:3},{value:"7. Aggregations",id:"7-aggregations",level:3},{value:"8. Dynamic Joins",id:"8-dynamic-joins",level:3},{value:"9. Spatial Queries",id:"9-spatial-queries",level:3},{value:"10. H3 Hexagonal Clustering",id:"10-h3-hexagonal-clustering",level:3},{value:"11. Vector Similarity Search",id:"11-vector-similarity-search",level:3},{value:"12. Generated Fields &amp; Transformations",id:"12-generated-fields--transformations",level:3},{value:"13. Cube &amp; Hypertable Queries",id:"13-cube--hypertable-queries",level:3},{value:"Query Arguments Reference",id:"query-arguments-reference",level:2},{value:"Nested Query Arguments",id:"nested-query-arguments",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Basic Data Retrieval",id:"basic-data-retrieval",level:3},{value:"Data with Relations",id:"data-with-relations",level:3},{value:"Aggregations",id:"aggregations",level:3},{value:"Function Calls",id:"function-calls",level:3},{value:"Performance Best Practices",id:"performance-best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"graphql-queries",children:"GraphQL Queries"})}),"\n",(0,s.jsx)(n.p,{children:"Hugr automatically generates a comprehensive GraphQL API from your schema definitions, providing powerful query capabilities for data access and manipulation. This section covers all aspects of querying data through the generated GraphQL API."}),"\n",(0,s.jsx)(n.h2,{id:"what-gets-generated",children:"What Gets Generated"}),"\n",(0,s.jsx)(n.p,{children:"For each data object (table or view) defined in your schema, Hugr automatically creates:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Basic queries"})," - Select multiple records with filtering, sorting, and pagination"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Primary key queries"})," - Retrieve single records by primary key (",(0,s.jsx)(n.code,{children:"<object>_by_pk"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Unique constraint queries"})," - Retrieve single records by unique fields (",(0,s.jsx)(n.code,{children:"<object>_by_<field>"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Aggregation queries"})," - Single-row aggregations (",(0,s.jsx)(n.code,{children:"<object>_aggregation"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bucket aggregations"})," - Grouped aggregations (",(0,s.jsx)(n.code,{children:"<object>_bucket_aggregation"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Relation fields"})," - Access related data through foreign keys"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Function fields"})," - Execute functions with automatic argument mapping"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"query-organization",children:"Query Organization"}),"\n",(0,s.jsxs)(n.p,{children:["All queries are organized in a hierarchical module structure based on the ",(0,s.jsx)(n.code,{children:"@module"})," directive. ",(0,s.jsx)(n.strong,{children:"Data objects, aggregations, and functions can be nested within modules"})," at any level."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"query {\n  # Root level objects\n  customers { id name }\n  customers_aggregation { _rows_count }\n  customers_by_pk(id: 1) { id name }\n\n  # Nested modules - data objects inside modules\n  crm {\n    analytics {\n      # All query types available within modules\n      top_customers { id total_spent }\n      top_customers_aggregation { _rows_count }\n      top_customers_bucket_aggregation {\n        key { segment }\n        aggregations { _rows_count }\n      }\n    }\n  }\n\n  # Functions organized in modules\n  function {\n    services {\n      weather {\n        current_weather(lat: 40.7, lon: -74.0) {\n          temp\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Module structure:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Defined using ",(0,s.jsx)(n.code,{children:'@module(name: "module.submodule")'})," directive"]}),"\n",(0,s.jsx)(n.li,{children:"Can nest data objects at any depth"}),"\n",(0,s.jsxs)(n.li,{children:["All query types (",(0,s.jsx)(n.code,{children:"<object>"}),", ",(0,s.jsx)(n.code,{children:"<object>_by_pk"}),", ",(0,s.jsx)(n.code,{children:"<object>_aggregation"}),", ",(0,s.jsx)(n.code,{children:"<object>_bucket_aggregation"}),") available within modules"]}),"\n",(0,s.jsxs)(n.li,{children:["Functions organized under ",(0,s.jsx)(n.code,{children:"function"})," field can also be modularized"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"core-query-capabilities",children:"Core Query Capabilities"}),"\n",(0,s.jsx)(n.h3,{id:"1-function-calls",children:"1. Function Calls"}),"\n",(0,s.jsx)(n.p,{children:"Execute database functions, HTTP API calls, and custom business logic directly in queries."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/function-calls",children:"Learn about Function Calls \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"2-basic-queries",children:"2. Basic Queries"}),"\n",(0,s.jsx)(n.p,{children:"Retrieve records by primary key or unique constraints with simple, direct queries."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/basic-queries",children:"Learn about Basic Queries \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"3-filtering",children:"3. Filtering"}),"\n",(0,s.jsx)(n.p,{children:"Apply complex filters using boolean logic, relation filters, and nested conditions."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/filtering",children:"Learn about Filtering \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"4-sorting--pagination",children:"4. Sorting & Pagination"}),"\n",(0,s.jsx)(n.p,{children:"Order results and implement pagination with limit/offset and distinct operations."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/sorting-pagination",children:"Learn about Sorting & Pagination \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"5-relations",children:"5. Relations"}),"\n",(0,s.jsx)(n.p,{children:"Query related data through foreign keys with nested queries and aggregations."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/relations",children:"Learn about Relations \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"6-function-fields",children:"6. Function Fields"}),"\n",(0,s.jsx)(n.p,{children:"Embed function calls as fields in data objects with automatic argument mapping."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/function-fields",children:"Learn about Function Fields \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"7-aggregations",children:"7. Aggregations"}),"\n",(0,s.jsx)(n.p,{children:"Perform single-row and grouped aggregations with support for nested aggregations."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/aggregations",children:"Learn about Aggregations \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"8-dynamic-joins",children:"8. Dynamic Joins"}),"\n",(0,s.jsxs)(n.p,{children:["Create ad-hoc joins at query time using the ",(0,s.jsx)(n.code,{children:"_join"})," field, including cross-source joins."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/dynamic-joins",children:"Learn about Dynamic Joins \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"9-spatial-queries",children:"9. Spatial Queries"}),"\n",(0,s.jsx)(n.p,{children:"Query geographically related data using spatial relationships and operations."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/spatial",children:"Learn about Spatial Queries \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"10-h3-hexagonal-clustering",children:"10. H3 Hexagonal Clustering"}),"\n",(0,s.jsx)(n.p,{children:"Aggregate and cluster spatial data using the H3 hexagonal grid system for advanced geospatial analysis."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/h3-clustering",children:"Learn about H3 Clustering \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"11-vector-similarity-search",children:"11. Vector Similarity Search"}),"\n",(0,s.jsx)(n.p,{children:"Perform semantic search using vector embeddings with support for multiple distance metrics and hybrid search."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/vector-search",children:"Learn about Vector Search \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"12-generated-fields--transformations",children:"12. Generated Fields & Transformations"}),"\n",(0,s.jsx)(n.p,{children:"Use automatically generated fields and transformation arguments for Timestamp, JSON, and Geometry data types."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/generated-fields",children:"Learn about Generated Fields \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"13-cube--hypertable-queries",children:"13. Cube & Hypertable Queries"}),"\n",(0,s.jsx)(n.p,{children:"Query OLAP cubes and time-series hypertables with measurement aggregation and time-based bucketing."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs/graphql/queries/cube-hypertable",children:"Learn about Cube & Hypertable Queries \u2192"})}),"\n",(0,s.jsx)(n.h2,{id:"query-arguments-reference",children:"Query Arguments Reference"}),"\n",(0,s.jsx)(n.p,{children:"Most query types support these standard arguments:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Argument"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"filter"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"<object>_filter"})}),(0,s.jsx)(n.td,{children:"Filter conditions for records"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"order_by"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[OrderByField]"})}),(0,s.jsx)(n.td,{children:"Sort order (can reference nested fields)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"limit"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"Maximum number of records to return"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"offset"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"Number of records to skip"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"distinct_on"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[String]"})}),(0,s.jsx)(n.td,{children:"Fields to use for DISTINCT"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"args"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"<input_type>"})}),(0,s.jsx)(n.td,{children:"Arguments for parameterized views"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"inner"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Boolean"})}),(0,s.jsx)(n.td,{children:"Use INNER join (excludes parent records without matches, default: false)"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"nested-query-arguments",children:"Nested Query Arguments"}),"\n",(0,s.jsx)(n.p,{children:"For relation fields (subqueries), additional arguments control post-join behavior:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Argument"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nested_order_by"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[OrderByField]"})}),(0,s.jsx)(n.td,{children:"Sort order applied after join"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nested_limit"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"Limit applied after join"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nested_offset"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Int"})}),(0,s.jsx)(n.td,{children:"Offset applied after join"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"basic-data-retrieval",children:"Basic Data Retrieval"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'query {\n  customers(\n    filter: { country: { eq: "USA" } }\n    order_by: [{ field: "name", direction: ASC }]\n    limit: 10\n  ) {\n    id\n    name\n    email\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"data-with-relations",children:"Data with Relations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'query {\n  customers {\n    id\n    name\n    orders(\n      filter: { status: { eq: "pending" } }\n      limit: 5\n    ) {\n      id\n      total\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"aggregations",children:"Aggregations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"query {\n  orders_bucket_aggregation {\n    key {\n      status\n    }\n    aggregations {\n      _rows_count\n      total {\n        sum\n        avg\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"function-calls",children:"Function Calls"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"query {\n  function {\n    weather {\n      current_weather(lat: 40.7, lon: -74.0) {\n        temp\n        humidity\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-best-practices",children:"Performance Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use filters early"})," - Apply filters at the highest level possible to reduce data volume"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Limit nested queries"})," - Always use ",(0,s.jsx)(n.code,{children:"limit"})," or ",(0,s.jsx)(n.code,{children:"nested_limit"})," for one-to-many relations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Leverage indexes"})," - Ensure indexes exist on filtered and sorted fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Aggregate when possible"})," - Use aggregation queries instead of fetching raw data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Batch related data"})," - Use subqueries instead of separate queries to avoid N+1 problems"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.p,{children:["Start with ",(0,s.jsx)(n.a,{href:"/docs/graphql/queries/function-calls",children:"Function Calls"})," to learn how to execute functions, or jump to ",(0,s.jsx)(n.a,{href:"/docs/graphql/queries/basic-queries",children:"Basic Queries"})," for fundamental data retrieval patterns."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);