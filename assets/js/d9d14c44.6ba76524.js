"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[736],{6957:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"deployment/auth","title":"Authentication Setup","description":"Hugr supports multiple authentication methods to secure your GraphQL API. Authentication determines user identity and assigns roles that control access permissions.","source":"@site/docs/7-deployment/4-auth.md","sourceDirName":"7-deployment","slug":"/deployment/auth","permalink":"/docs/deployment/auth","draft":false,"unlisted":false,"editUrl":"https://github.com/hugr-lab/hugr-lab.github.io/docs/7-deployment/4-auth.md","tags":[],"version":"current","lastUpdatedBy":"Claude","lastUpdatedAt":1762354428000,"sidebarPosition":4,"frontMatter":{"title":"Authentication Setup","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Building from Source","permalink":"/docs/deployment/building-source"},"next":{"title":"Containerized Deployment","permalink":"/docs/deployment/container"}}');var r=i(4848),a=i(8453);const l={title:"Authentication Setup",sidebar_position:4},t="Authentication Setup",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Configuration File Location",id:"configuration-file-location",level:3},{value:"API Key Authentication",id:"api-key-authentication",level:2},{value:"Static API Keys",id:"static-api-keys",level:3},{value:"Configuration",id:"configuration-1",level:4},{value:"Usage",id:"usage",level:4},{value:"Managed API Keys",id:"managed-api-keys",level:3},{value:"Enabling Managed API Keys",id:"enabling-managed-api-keys",level:4},{value:"API Keys Table Schema",id:"api-keys-table-schema",level:4},{value:"Creating Managed API Keys",id:"creating-managed-api-keys",level:4},{value:"Headers vs Claims",id:"headers-vs-claims",level:4},{value:"Managing API Keys",id:"managing-api-keys",level:4},{value:"Temporal Keys and Expiration",id:"temporal-keys-and-expiration",level:4},{value:"Best Practices for Managed API Keys",id:"best-practices-for-managed-api-keys",level:4},{value:"Static vs Managed Keys Comparison",id:"static-vs-managed-keys-comparison",level:4},{value:"Role Assignment",id:"role-assignment",level:3},{value:"Anonymous Access",id:"anonymous-access",level:2},{value:"Configuration",id:"configuration-2",level:3},{value:"Role Assignment",id:"role-assignment-1",level:3},{value:"OAuth2/JWT Authentication",id:"oauth2jwt-authentication",level:2},{value:"Configuration",id:"configuration-3",level:3},{value:"Token Example",id:"token-example",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Role Assignment",id:"role-assignment-2",level:3},{value:"1. From Claims",id:"1-from-claims",level:4},{value:"2. From Scopes",id:"2-from-scopes",level:4},{value:"OIDC Authentication",id:"oidc-authentication",level:2},{value:"Configuration",id:"configuration-4",level:3},{value:"Token Example",id:"token-example-1",level:3},{value:"Usage",id:"usage-2",level:3},{value:"Role Assignment",id:"role-assignment-3",level:3},{value:"1. From Claims",id:"1-from-claims-1",level:4},{value:"2. From Scopes",id:"2-from-scopes-1",level:4},{value:"Multiple Authentication Methods",id:"multiple-authentication-methods",level:2},{value:"Custom Claims Mapping",id:"custom-claims-mapping",level:2},{value:"Testing Authentication",id:"testing-authentication",level:2},{value:"Test API Key",id:"test-api-key",level:3},{value:"Test Anonymous",id:"test-anonymous",level:3},{value:"Test JWT",id:"test-jwt",level:3},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Authentication Failed",id:"authentication-failed",level:3},{value:"Role Not Assigned",id:"role-not-assigned",level:3},{value:"Permission Denied",id:"permission-denied",level:3},{value:"Custom Claims Not Available",id:"custom-claims-not-available",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Auth0",id:"auth0",level:3},{value:"Keycloak",id:"keycloak",level:3},{value:"Google",id:"google",level:3},{value:"Azure AD",id:"azure-ad",level:3},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication-setup",children:"Authentication Setup"})}),"\n",(0,r.jsx)(n.p,{children:"Hugr supports multiple authentication methods to secure your GraphQL API. Authentication determines user identity and assigns roles that control access permissions."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Hugr supports the following authentication methods:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Keys"})," - Static keys for service-to-service communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Anonymous"})," - Unauthenticated access with limited permissions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OAuth2/JWT"})," - Token-based authentication with standard JWT"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OIDC"})," - OpenID Connect for enterprise identity providers"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Each authentication method assigns roles to users, which are then used by the ",(0,r.jsx)(n.a,{href:"/docs/engine-configuration/access-control",children:"Access Control"})," system to determine permissions."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Authentication is configured in the Hugr configuration file. The configuration defines which authentication methods are enabled and how roles are assigned."}),"\n",(0,r.jsx)(n.h3,{id:"configuration-file-location",children:"Configuration File Location"}),"\n",(0,r.jsx)(n.p,{children:"The authentication configuration is typically located in:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"config.yaml"})," - Main configuration file"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"config.json"})," - Alternative JSON format"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"https://github.com/hugr-lab/hugr",children:"hugr repository"})," for detailed configuration examples."]}),"\n",(0,r.jsx)(n.h2,{id:"api-key-authentication",children:"API Key Authentication"}),"\n",(0,r.jsx)(n.p,{children:"API keys are ideal for service-to-service communication and automated access. Hugr supports two types of API keys:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Static API Keys"})," - Defined in configuration files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Managed API Keys"})," - Stored in database and managed dynamically through GraphQL"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"static-api-keys",children:"Static API Keys"}),"\n",(0,r.jsx)(n.p,{children:"Static API keys are defined directly in the configuration file."}),"\n",(0,r.jsx)(n.h4,{id:"configuration-1",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  api_keys:\n    enabled: true\n    header_username: "X-API-Username"\n    header_user_id: "X-API-User-ID"\n    keys:\n      - key: "service_key_abc123"\n        role: "service"\n        username: "api_service"\n        user_id: "svc_001"\n      - key: "admin_key_xyz789"\n        role: "admin"\n        username: "admin_service"\n        user_id: "admin_001"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Include the API key and user information in request headers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.example.com/graphql \\\n  -H "Authorization: Bearer service_key_abc123" \\\n  -H "X-API-Username: api_service" \\\n  -H "X-API-User-ID: svc_001" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"managed-api-keys",children:"Managed API Keys"}),"\n",(0,r.jsxs)(n.p,{children:["Managed API keys allow dynamic management of API keys through the database without restarting the service. Keys are stored in the ",(0,r.jsx)(n.code,{children:"api_keys"})," table in the core database module and can be created, updated, or deleted via GraphQL."]}),"\n",(0,r.jsx)(n.h4,{id:"enabling-managed-api-keys",children:"Enabling Managed API Keys"}),"\n",(0,r.jsx)(n.p,{children:"Enable managed API keys in the configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  api_keys:\n    enabled: true\n    managed: true  # Enable managed API keys from database\n    header_username: "X-API-Username"  # Optional: for custom user info\n    header_user_id: "X-API-User-ID"    # Optional: for custom user info\n'})}),"\n",(0,r.jsxs)(n.p,{children:["When ",(0,r.jsx)(n.code,{children:"managed: true"}),", Hugr will:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check static keys from configuration first"}),"\n",(0,r.jsxs)(n.li,{children:["Then check managed keys from the ",(0,r.jsx)(n.code,{children:"api_keys"})," table"]}),"\n",(0,r.jsx)(n.li,{children:"Use the first matching valid key"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"api-keys-table-schema",children:"API Keys Table Schema"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"api_keys"})," table has the following structure:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'type api_keys @module(name: "core")\n  @table(name: "api_keys")\n  @unique(fields: ["key"], query_suffix: "by_key") {\n  """\n    API key name (primary key)\n  """\n  name: String! @pk\n  """\n    API key description\n  """\n  description: String!\n  """\n    API key value (unique)\n  """\n  key: String!\n  """\n    Default role for the API key\n  """\n  default_role: String @field_references(\n    references_name: "roles",\n    field: "name",\n    references_query: "api_keys"\n  )\n  """\n    API key disabled flag\n  """\n  disabled: Boolean @default(value: false)\n  """\n    API key temporal flag (expires_at is required)\n  """\n  is_temporal: Boolean @default(value: false)\n  """\n    API key expiration date\n  """\n  expires_at: Timestamp\n  """\n    Headers for getting user info from request with the API key\n    JSON: {"role": "x-role", "user_id": "x-user-id", "user_name": "x-user-name"}\n  """\n  headers: JSON\n  """\n    Claims for the API key\n    JSON: {"role": "role", "user_id": "user-id", "user_name": "user-name"}\n  """\n  claims: JSON\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"creating-managed-api-keys",children:"Creating Managed API Keys"}),"\n",(0,r.jsx)(n.p,{children:"Create a basic API key:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_api_keys(data: {\n      name: "mobile_app_key"\n      description: "API key for mobile application"\n      key: "mobile_app_abc123xyz456"\n      default_role: "app_user"\n    }) {\n      name\n      key\n      default_role\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Create a temporary API key with expiration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_api_keys(data: {\n      name: "temp_integration_key"\n      description: "Temporary key for external integration"\n      key: "temp_key_xyz789"\n      default_role: "integration"\n      is_temporal: true\n      expires_at: "2024-12-31T23:59:59Z"\n    }) {\n      name\n      key\n      expires_at\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"headers-vs-claims",children:"Headers vs Claims"}),"\n",(0,r.jsx)(n.p,{children:"Managed API keys support two ways to provide user information:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Headers"})," - Extract user info from request headers:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_api_keys(data: {\n      name: "partner_api_key"\n      description: "Partner API with custom headers"\n      key: "partner_key_abc123"\n      default_role: "partner"\n      headers: {\n        role: "x-partner-role"\n        user_id: "x-partner-id"\n        user_name: "x-partner-name"\n      }\n    }) {\n      name\n      key\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Usage with custom headers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.example.com/graphql \\\n  -H "Authorization: Bearer partner_key_abc123" \\\n  -H "x-partner-role: premium_partner" \\\n  -H "x-partner-id: partner_123" \\\n  -H "x-partner-name: Acme Corp" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The role from the header (",(0,r.jsx)(n.code,{children:"x-partner-role"}),") takes precedence over ",(0,r.jsx)(n.code,{children:"default_role"})," if provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2. Claims"})," - Use predefined claims from the API key configuration:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_api_keys(data: {\n      name: "service_key"\n      description: "Service account with fixed identity"\n      key: "service_key_fixed_abc123"\n      default_role: "service"\n      claims: {\n        role: "data_processor"\n        user_id: "svc_processor_001"\n        user_name: "Data Processing Service"\n        department: "engineering"\n        region: "us-west"\n      }\n    }) {\n      name\n      key\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Usage with claims (no additional headers needed):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.example.com/graphql \\\n  -H "Authorization: Bearer service_key_fixed_abc123" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:"Claims are fixed in the database and cannot be overridden by request headers. This is useful for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Service accounts with fixed identity"}),"\n",(0,r.jsx)(n.li,{children:"Keys with predefined permissions"}),"\n",(0,r.jsx)(n.li,{children:"Additional custom claims for permission filters"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"managing-api-keys",children:"Managing API Keys"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"List all API keys:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"query {\n  core {\n    api_keys {\n      name\n      description\n      key\n      default_role\n      disabled\n      is_temporal\n      expires_at\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find key by value:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'query {\n  core {\n    api_keys_by_key(key: "service_key_fixed_abc123") {\n      name\n      description\n      default_role\n      disabled\n      expires_at\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Disable an API key without deleting:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    update_api_keys(\n      filter: { name: { eq: "mobile_app_key" } }\n      data: { disabled: true }\n    ) {\n      success\n      affected_rows\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Update key expiration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    update_api_keys(\n      filter: { name: { eq: "temp_integration_key" } }\n      data: {\n        expires_at: "2025-03-31T23:59:59Z"\n      }\n    ) {\n      success\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rotate an API key:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    update_api_keys(\n      filter: { name: { eq: "partner_api_key" } }\n      data: {\n        key: "partner_key_new_xyz789"\n      }\n    ) {\n      success\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Delete an API key:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    delete_api_keys(\n      filter: { name: { eq: "old_key" } }\n    ) {\n      success\n      affected_rows\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"temporal-keys-and-expiration",children:"Temporal Keys and Expiration"}),"\n",(0,r.jsx)(n.p,{children:"Temporal keys automatically expire after the specified date:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_api_keys(data: {\n      name: "demo_key"\n      description: "30-day demo access"\n      key: "demo_abc123"\n      default_role: "demo"\n      is_temporal: true\n      expires_at: "2024-02-15T00:00:00Z"\n    }) {\n      name\n      expires_at\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"After expiration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The key will be rejected during authentication"}),"\n",(0,r.jsx)(n.li,{children:"The key remains in the database for audit purposes"}),"\n",(0,r.jsxs)(n.li,{children:["You can extend expiration by updating ",(0,r.jsx)(n.code,{children:"expires_at"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"best-practices-for-managed-api-keys",children:"Best Practices for Managed API Keys"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Descriptive Names"}),": Name keys after their purpose or owner"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Set Expiration for Temporary Access"}),": Always use ",(0,r.jsx)(n.code,{children:"is_temporal: true"})," and ",(0,r.jsx)(n.code,{children:"expires_at"})," for temporary keys"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Claims for Service Accounts"}),": Service accounts should use ",(0,r.jsx)(n.code,{children:"claims"})," for fixed identity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Headers for Multi-tenant Keys"}),": When one key serves multiple users, use ",(0,r.jsx)(n.code,{children:"headers"})," to identify them"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotate Keys Regularly"}),": Update the ",(0,r.jsx)(n.code,{children:"key"})," field periodically for security"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Disable Before Delete"}),": Set ",(0,r.jsx)(n.code,{children:"disabled: true"})," first to test impact before deletion"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Key Usage"}),": Keep descriptions updated and monitor key usage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Combine with Permissions"}),": Use role-based permissions to control what each key can access"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"static-vs-managed-keys-comparison",children:"Static vs Managed Keys Comparison"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Static Keys"}),(0,r.jsx)(n.th,{children:"Managed Keys"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Configuration"})}),(0,r.jsx)(n.td,{children:"YAML/JSON file"}),(0,r.jsx)(n.td,{children:"Database table"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Changes"})}),(0,r.jsx)(n.td,{children:"Requires restart"}),(0,r.jsx)(n.td,{children:"Dynamic, no restart"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Management"})}),(0,r.jsx)(n.td,{children:"Manual file editing"}),(0,r.jsx)(n.td,{children:"GraphQL mutations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Expiration"})}),(0,r.jsx)(n.td,{children:"Not supported"}),(0,r.jsxs)(n.td,{children:["Built-in with ",(0,r.jsx)(n.code,{children:"expires_at"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Audit Trail"})}),(0,r.jsx)(n.td,{children:"Git history"}),(0,r.jsx)(n.td,{children:"Database history"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Custom Claims"})}),(0,r.jsx)(n.td,{children:"Fixed in config"}),(0,r.jsxs)(n.td,{children:["Flexible via ",(0,r.jsx)(n.code,{children:"claims"})," field"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Use Case"})}),(0,r.jsx)(n.td,{children:"Core system services"}),(0,r.jsx)(n.td,{children:"User-managed keys, integrations"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"role-assignment",children:"Role Assignment"}),"\n",(0,r.jsx)(n.p,{children:"For API keys, the role is determined by:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Headers"})," - If ",(0,r.jsx)(n.code,{children:"headers.role"})," is configured and the header is present in request"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Claims"})," - If ",(0,r.jsx)(n.code,{children:"claims.role"})," is set in the API key"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default Role"})," - From ",(0,r.jsx)(n.code,{children:"default_role"})," field or static configuration"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication Variables Available:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_name]"})," - From headers, claims, or configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_id]"})," - From headers, claims, or configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.role]"})," - From headers, claims, or configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.auth_type]"}),' - "apikey"']}),"\n",(0,r.jsxs)(n.li,{children:["Custom claims from ",(0,r.jsx)(n.code,{children:"claims"})," field: ",(0,r.jsx)(n.code,{children:"[$auth.custom_claim_name]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"anonymous-access",children:"Anonymous Access"}),"\n",(0,r.jsx)(n.p,{children:"Anonymous access allows unauthenticated requests with limited permissions."}),"\n",(0,r.jsx)(n.h3,{id:"configuration-2",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  anonymous:\n    enabled: true\n    role: "public"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"role-assignment-1",children:"Role Assignment"}),"\n",(0,r.jsxs)(n.p,{children:["All unauthenticated requests are assigned the role specified in the ",(0,r.jsx)(n.code,{children:"anonymous.role"}),' configuration (typically "public").']}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication Variables Available:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_name]"}),' - "anonymous"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_id]"}),' - null or "anonymous"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.role]"}),' - From configuration (e.g., "public")']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.auth_type]"}),' - "anonymous"']}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oauth2jwt-authentication",children:"OAuth2/JWT Authentication"}),"\n",(0,r.jsx)(n.p,{children:"JWT tokens provide stateless authentication with embedded claims."}),"\n",(0,r.jsx)(n.h3,{id:"configuration-3",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  jwt:\n    enabled: true\n    secret: "your-jwt-secret"\n    algorithm: "HS256"  # or RS256, ES256\n    issuer: "https://your-auth-provider.com"\n    audience: "your-api-audience"\n    role_claim: "role"  # JWT claim containing the role\n    role_scope_prefix: "role:"  # Prefix for role in scopes\n'})}),"\n",(0,r.jsx)(n.h3,{id:"token-example",children:"Token Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "sub": "user123",\n  "name": "John Doe",\n  "email": "john@example.com",\n  "role": "editor",\n  "scope": "read write",\n  "iss": "https://your-auth-provider.com",\n  "aud": "your-api-audience",\n  "exp": 1735689600\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usage-1",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Include the JWT token in the Authorization header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.example.com/graphql \\\n  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIs..." \\\n  -H "Content-Type: application/json" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"role-assignment-2",children:"Role Assignment"}),"\n",(0,r.jsx)(n.p,{children:"Roles can be assigned from JWT in two ways:"}),"\n",(0,r.jsx)(n.h4,{id:"1-from-claims",children:"1. From Claims"}),"\n",(0,r.jsx)(n.p,{children:"The role is read from a specific claim in the JWT payload:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  jwt:\n    role_claim: "role"  # Reads from token.role\n'})}),"\n",(0,r.jsx)(n.p,{children:"If the claim contains multiple roles (array), the first role is used, or you can configure priority:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  jwt:\n    role_claim: "roles"\n    role_priority: ["admin", "editor", "viewer"]  # First matching role is used\n'})}),"\n",(0,r.jsx)(n.h4,{id:"2-from-scopes",children:"2. From Scopes"}),"\n",(0,r.jsx)(n.p,{children:"The role is extracted from OAuth2 scopes with a specific prefix:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  jwt:\n    role_scope_prefix: "role:"  # Extracts "editor" from scope "role:editor"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Token with scopes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "scope": "read write role:editor"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication Variables Available:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_name]"}),' - From "name" claim or "sub" claim']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_id]"}),' - From "sub" claim']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.role]"})," - From configured role claim or scope"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.auth_type]"}),' - "jwt"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.provider]"}),' - From "iss" claim']}),"\n",(0,r.jsxs)(n.li,{children:["Any custom claim: ",(0,r.jsx)(n.code,{children:"[$auth.custom_claim]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oidc-authentication",children:"OIDC Authentication"}),"\n",(0,r.jsx)(n.p,{children:"OpenID Connect extends OAuth2 with standardized identity information."}),"\n",(0,r.jsx)(n.h3,{id:"configuration-4",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    enabled: true\n    issuer: "https://accounts.google.com"\n    client_id: "your-client-id"\n    client_secret: "your-client-secret"\n    redirect_uri: "https://your-app.com/auth/callback"\n    role_claim: "role"\n    role_scope_prefix: "role:"\n    additional_scopes: ["email", "profile"]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"token-example-1",children:"Token Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "iss": "https://accounts.google.com",\n  "sub": "110169484474386276334",\n  "azp": "your-client-id",\n  "aud": "your-client-id",\n  "iat": 1735689000,\n  "exp": 1735692600,\n  "email": "john@example.com",\n  "email_verified": true,\n  "name": "John Doe",\n  "picture": "https://...",\n  "role": "editor"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usage-2",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"OIDC typically uses the OAuth2 authorization code flow. Include the ID token in requests:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.example.com/graphql \\\n  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIs..." \\\n  -H "Content-Type: application/json" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"role-assignment-3",children:"Role Assignment"}),"\n",(0,r.jsx)(n.p,{children:"Similar to JWT, roles can be assigned from:"}),"\n",(0,r.jsx)(n.h4,{id:"1-from-claims-1",children:"1. From Claims"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    role_claim: "role"  # Reads from ID token role claim\n'})}),"\n",(0,r.jsx)(n.p,{children:"Common enterprise claims:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"role"})," - Custom role claim"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"groups"})," - Group membership (can be mapped to roles)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"realm_access.roles"})," - Keycloak-specific roles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"resource_access.{client}.roles"})," - Keycloak client-specific roles"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-from-scopes-1",children:"2. From Scopes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    role_scope_prefix: "role:"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication Variables Available:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_name]"}),' - From "name" or "preferred_username" claim']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.user_id]"}),' - From "sub" claim']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.role]"})," - From configured role claim or scope"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.auth_type]"}),' - "oidc"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.provider]"}),' - From "iss" claim']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[$auth.email]"}),' - From "email" claim']}),"\n",(0,r.jsxs)(n.li,{children:["Any custom claim: ",(0,r.jsx)(n.code,{children:"[$auth.custom_claim]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"multiple-authentication-methods",children:"Multiple Authentication Methods"}),"\n",(0,r.jsx)(n.p,{children:"You can enable multiple authentication methods simultaneously. Hugr tries each method in order:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  # Try API key first\n  api_keys:\n    enabled: true\n    # ... config\n\n  # Then OIDC\n  oidc:\n    enabled: true\n    # ... config\n\n  # Then JWT\n  jwt:\n    enabled: true\n    # ... config\n\n  # Finally anonymous\n  anonymous:\n    enabled: true\n    role: "public"\n'})}),"\n",(0,r.jsx)(n.p,{children:"The first successful authentication method is used. If all fail, the request is treated as anonymous (if enabled)."}),"\n",(0,r.jsx)(n.h2,{id:"custom-claims-mapping",children:"Custom Claims Mapping"}),"\n",(0,r.jsx)(n.p,{children:"You can map custom claims to authentication variables for use in permissions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  jwt:\n    enabled: true\n    secret: "your-secret"\n    custom_claims:\n      tenant_id: "organization_id"  # Maps JWT "organization_id" to $auth.tenant_id\n      department_id: "dept"         # Maps JWT "dept" to $auth.department_id\n      region: "user_region"          # Maps JWT "user_region" to $auth.region\n'})}),"\n",(0,r.jsx)(n.p,{children:"These custom claims can then be used in permission filters:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  core {\n    insert_role_permissions(data: {\n      role: "employee"\n      type_name: "documents"\n      field_name: "*"\n      filter: {\n        department_id: { eq: "[$auth.department_id]" }\n      }\n    }) {\n      role\n      type_name\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"testing-authentication",children:"Testing Authentication"}),"\n",(0,r.jsx)(n.h3,{id:"test-api-key",children:"Test API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Should succeed with configured permissions\ncurl -X POST http://localhost:8080/graphql \\\n  -H "Authorization: Bearer service_key_abc123" \\\n  -H "X-API-Username: api_service" \\\n  -H "X-API-User-ID: svc_001" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"test-anonymous",children:"Test Anonymous"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Should succeed with public role permissions\ncurl -X POST http://localhost:8080/graphql \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"test-jwt",children:"Test JWT"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Generate a test token (example using jwt.io or similar tool)\nTOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."\n\ncurl -X POST http://localhost:8080/graphql \\\n  -H "Authorization: Bearer $TOKEN" \\\n  -d \'{"query": "{ customers { id name } }"}\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use HTTPS"}),": Always use TLS/SSL in production"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotate Keys"}),": Regularly rotate API keys and JWT secrets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limit Token Lifetime"}),": Use short-lived tokens with refresh mechanisms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate Issuers"}),": Always verify token issuer in production"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Principle of Least Privilege"}),": Assign minimal necessary roles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Logs"}),": Enable logging for authentication events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limiting"}),": Implement rate limiting to prevent abuse"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Secure Storage"}),": Never commit secrets to version control"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"authentication-failed",children:"Authentication Failed"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check token is not expired"}),"\n",(0,r.jsx)(n.li,{children:"Verify token signature with correct secret/public key"}),"\n",(0,r.jsx)(n.li,{children:"Confirm issuer and audience match configuration"}),"\n",(0,r.jsxs)(n.li,{children:["Check Authorization header format: ",(0,r.jsx)(n.code,{children:"Bearer <token>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"role-not-assigned",children:"Role Not Assigned"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify role claim name matches configuration"}),"\n",(0,r.jsx)(n.li,{children:"Check token contains the expected role claim"}),"\n",(0,r.jsx)(n.li,{children:"Confirm role exists in the roles table"}),"\n",(0,r.jsx)(n.li,{children:"Review role assignment configuration"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"permission-denied",children:"Permission Denied"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Confirm user has correct role assigned"}),"\n",(0,r.jsx)(n.li,{children:"Check role has necessary permissions in access control"}),"\n",(0,r.jsx)(n.li,{children:"Verify permissions are not disabled"}),"\n",(0,r.jsx)(n.li,{children:"Test with admin role to isolate permission vs. auth issues"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"custom-claims-not-available",children:"Custom Claims Not Available"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify claim exists in token payload"}),"\n",(0,r.jsx)(n.li,{children:"Check custom_claims mapping in configuration"}),"\n",(0,r.jsx)(n.li,{children:"Ensure claim name matches exactly (case-sensitive)"}),"\n",(0,r.jsx)(n.li,{children:"Test with a tool like jwt.io to inspect token"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,r.jsx)(n.h3,{id:"auth0",children:"Auth0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    enabled: true\n    issuer: "https://your-tenant.auth0.com/"\n    client_id: "your-client-id"\n    client_secret: "your-client-secret"\n    role_claim: "https://your-app.com/roles"  # Custom namespace claim\n'})}),"\n",(0,r.jsx)(n.h3,{id:"keycloak",children:"Keycloak"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    enabled: true\n    issuer: "https://keycloak.example.com/realms/your-realm"\n    client_id: "your-client-id"\n    client_secret: "your-client-secret"\n    role_claim: "realm_access.roles"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"google",children:"Google"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    enabled: true\n    issuer: "https://accounts.google.com"\n    client_id: "your-client-id.apps.googleusercontent.com"\n    client_secret: "your-client-secret"\n    additional_scopes: ["email", "profile"]\n    # Google doesn\'t provide roles by default, use custom solution\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azure-ad",children:"Azure AD"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'auth:\n  oidc:\n    enabled: true\n    issuer: "https://login.microsoftonline.com/{tenant-id}/v2.0"\n    client_id: "your-client-id"\n    client_secret: "your-client-secret"\n    role_claim: "roles"  # Azure AD app roles\n'})}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/engine-configuration/access-control",children:"Access Control"})," - Configure roles and permissions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/deployment/config",children:"Configuration"})," - General Hugr configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/deployment/container",children:"Deployment"})," - Deploy Hugr with authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/hugr-lab/hugr",children:"Hugr Repository"})," - Detailed configuration examples"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var s=i(6540);const r={},a=s.createContext(r);function l(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);