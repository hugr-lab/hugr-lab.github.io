"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2907],{8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var a=i(6540);const s={},t=a.createContext(s);function r(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(t.Provider,{value:n},e.children)}},8460:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"engine-configuration/schema-definition/data-objects/overview","title":"Data Objects Overview","description":"The data objects section provides an overview of the data structures used in the Hugr query engine. Data objects are the building blocks of database data sources, representing tables and views. They enable processing of tabular data through filtering, aggregation, joins, and mutations via a unified GraphQL API.","source":"@site/docs/4-engine-configuration/3-schema-definition/3-data-objects/1-overview.md","sourceDirName":"4-engine-configuration/3-schema-definition/3-data-objects","slug":"/engine-configuration/schema-definition/data-objects/overview","permalink":"/docs/engine-configuration/schema-definition/data-objects/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/hugr-lab/hugr-lab.github.io/docs/4-engine-configuration/3-schema-definition/3-data-objects/1-overview.md","tags":[],"version":"current","lastUpdatedBy":"vgsml","lastUpdatedAt":1759235264000,"sidebarPosition":1,"frontMatter":{"title":"Data Objects Overview","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Data objects","permalink":"/docs/category/data-objects"},"next":{"title":"Tables","permalink":"/docs/engine-configuration/schema-definition/data-objects/tables"}}');var s=i(4848),t=i(8453);const r={title:"Data Objects Overview",sidebar_position:1},o="Data Objects Overview",d={},c=[{value:"Types of Data Objects",id:"types-of-data-objects",level:2},{value:"Schema Definition",id:"schema-definition",level:2},{value:"Generated Operations",id:"generated-operations",level:2},{value:"Queries",id:"queries",level:3},{value:"Mutations (tables only)",id:"mutations-tables-only",level:3},{value:"Schema Compilation",id:"schema-compilation",level:2},{value:"Naming and Modules",id:"naming-and-modules",level:2},{value:"Example",id:"example",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"data-objects-overview",children:"Data Objects Overview"})}),"\n",(0,s.jsx)(n.p,{children:"The data objects section provides an overview of the data structures used in the Hugr query engine. Data objects are the building blocks of database data sources, representing tables and views. They enable processing of tabular data through filtering, aggregation, joins, and mutations via a unified GraphQL API."}),"\n",(0,s.jsx)(n.h2,{id:"types-of-data-objects",children:"Types of Data Objects"}),"\n",(0,s.jsx)(n.p,{children:"Hugr supports the following types of data objects:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tables"})," - Primary data objects corresponding to database tables. Support full CRUD operations (create, read, update, delete) through the GraphQL API."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Views"})," - Virtual tables based on query results. Used to simplify complex queries or provide an additional abstraction layer over base tables."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameterized Views"})," - Views that accept parameters, enabling dynamic and adaptive APIs while using standard Hugr filtering and aggregation approaches."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"schema-definition",children:"Schema Definition"}),"\n",(0,s.jsx)(n.p,{children:"Data objects are defined as GraphQL types and marked with corresponding directives:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@table"})," for tables"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@view"})," for views"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@view"})," with additional ",(0,s.jsx)(n.code,{children:"@args"})," for parameterized view arguments"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"generated-operations",children:"Generated Operations"}),"\n",(0,s.jsx)(n.p,{children:"For each data object, Hugr automatically generates:"}),"\n",(0,s.jsx)(n.h3,{id:"queries",children:"Queries"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<object_name>"})," - Select data with filtering, sorting, pagination"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<object_name>_by_pk"})," - Select single record by primary key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<object_name>_by_<unique>"})," - Select single record by unique constraint"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<object_name>_aggregation"})," - Aggregate data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<object_name>_bucket_aggregation"})," - Group and aggregate data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"mutations-tables-only",children:"Mutations (tables only)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"insert_<object_name>"})," - Insert new records"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"update_<object_name>"})," - Update existing records"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"delete_<object_name>"})," - Delete records"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"schema-compilation",children:"Schema Compilation"}),"\n",(0,s.jsx)(n.p,{children:"During compilation, Hugr enhances data objects with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Additional calculated fields for certain data types"}),"\n",(0,s.jsx)(n.li,{children:"Subquery fields for related objects"}),"\n",(0,s.jsx)(n.li,{children:"Aggregation and grouping capabilities for related data"}),"\n",(0,s.jsxs)(n.li,{children:["Query-time join fields (",(0,s.jsx)(n.code,{children:"_join"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Spatial join fields (",(0,s.jsx)(n.code,{children:"_spatial"}),") for geometry fields"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"naming-and-modules",children:"Naming and Modules"}),"\n",(0,s.jsx)(n.p,{children:"To avoid naming conflicts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Object names can have a prefix defined for the data source"}),"\n",(0,s.jsx)(n.li,{children:"Objects can be organized into modules for hierarchical query structure"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For example, if a data source is named ",(0,s.jsx)(n.code,{children:"sales"})," with prefix ",(0,s.jsx)(n.code,{children:"se_"}),", the ",(0,s.jsx)(n.code,{children:"customers"})," table would become ",(0,s.jsx)(n.code,{children:"se_customers"})," in the GraphQL schema."]}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(n.p,{children:["Consider a data source connected as module ",(0,s.jsx)(n.code,{children:"sales"})," with a ",(0,s.jsx)(n.code,{children:"customers"})," table defined in module ",(0,s.jsx)(n.code,{children:"crm"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'type customers @table(name: "customers") @module(name: "crm") {\n  id: Int! @pk\n  name: String!\n  email: String!\n  created_at: Timestamp\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"This generates queries accessible as:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"query {\n  sales {\n    crm {\n      customers { ... }\n      customers_by_pk(id: 1) { ... }\n      customers_aggregation { ... }\n      customers_bucket_aggregation { ... }\n    }\n  }\n}\n\nmutation {\n  sales {\n    crm {\n      insert_customers(data: { ... }) { ... }\n      update_customers(filter: { ... }, data: { ... }) { ... }\n      delete_customers(filter: { ... }) { ... }\n    }\n  }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);